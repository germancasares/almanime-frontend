// For format details, see https://aka.ms/devcontainer.json. For config options, see the README at:
// https://github.com/microsoft/vscode-dev-containers/tree/v0.209.6/containers/typescript-node
{
	"name": "Node.js & MS SQL",
	"dockerComposeFile": "docker-compose.yml",
	"service": "alm_ui",
	"workspaceFolder": "/workspace",
	// Set *default* container specific settings.json values on container create.
	"settings": {
		"diffEditor.codeLens": true,
		"editor.bracketPairColorization.enabled": true,
		"editor.defaultFormatter": "dbaeumer.vscode-eslint",
		"editor.formatOnSave": true,
		"editor.guides.bracketPairs": "active",
		"editor.tabSize": 2,
		"eslint.format.enable": true,
		"explorer.confirmDragAndDrop": false,
		"files.autoSave": "afterDelay",
		"git.confirmSync": false,
		"git.enableSmartCommit": true,
		"window.autoDetectColorScheme": true,
		"typescript.preferences.quoteStyle": "single",
		"typescript.updateImportsOnFileMove.enabled": "always",
		"mssql.connections": [
			{
				"server": "localhost,1433",
				"database": "",
				"authenticationType": "SqlLogin",
				"user": "sa",
				"password": "P@ssw0rd",
				"emptyPasswordInput": false,
				"savePassword": false,
				"profileName": "mssql-container"
			}
		],
		"[json]": {
			"editor.defaultFormatter": "vscode.json-language-features"
		},
		"[jsonc]": {
			"editor.defaultFormatter": "vscode.json-language-features"
		},
		// Automatic linting of SCSS
		"css.validate": false,
		"less.validate": false,
		"scss.validate": false,
		"stylelint.configBasedir": "/usr/local/share/npm-global/lib",
		"stylelint.validate": [
			"css",
			"scss"
		],
		"[scss]": {
			"editor.defaultFormatter": "stylelint.vscode-stylelint"
		}
	},
	// Add the IDs of extensions you want installed when the container is created.
	"extensions": [
		"ms-mssql.mssql",
		"dbaeumer.vscode-eslint",
		"mhutchie.git-graph",
		"zaaack.markdown-editor",
		"stylelint.vscode-stylelint",
		"pflannery.vscode-versionlens",
		"firefox-devtools.vscode-firefox-debug"
	],
	// Use 'forwardPorts' to make a list of ports inside the container available locally.
	// "forwardPorts": [],
	// Use 'postCreateCommand' to run commands after the container is created.
	"postCreateCommand": "bash .devcontainer/mssql/postCreateCommand.sh 'P@ssw0rd' './bin/Debug/' './.devcontainer/mssql/' && yarn install",
	// Comment out connect as root instead. More info: https://aka.ms/vscode-remote/containers/non-root.
	"remoteUser": "node",
	"features": {
		"git": "latest"
	}
}